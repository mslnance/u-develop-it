var inputChecker = require('inputcheck').inputChecker;

// Testing the new object and event handling
var checker = new inputChecker('Nana Ewusi', 'nanadiary');

checker.on('write', function (data) {
	this.writeStream.write(data, 'utf8');
});

checker.on('echo', function (data) {
	console.log(this.name + ' wrote ' + data);
});

checker.on('end', function () {
	process.exit();
});

process.stdin.resume();
process.stdin.setEncoding('utf8');
process.stdin.on('data', function (input) {
	checker.check(input);
});